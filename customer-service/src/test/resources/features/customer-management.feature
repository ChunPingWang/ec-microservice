# language: zh-TW
功能: 客戶管理
  作為一個電商系統管理員
  我想要能夠管理客戶資料
  以便提供良好的客戶服務

  背景:
    假設 系統已經啟動並運行

  場景: 成功註冊新客戶
    假設 我有一個有效的客戶註冊請求
      | 姓名   | 電子郵件              | 電話號碼      | 地址        |
      | 王小明 | wang@example.com     | 0912345678   | 台北市信義區 |
    當 我提交客戶註冊請求
    那麼 系統應該回應成功狀態碼 201
    而且 回應應該包含客戶 ID
    而且 客戶應該被儲存在資料庫中

  場景: 註冊客戶時電子郵件格式無效
    假設 我有一個無效電子郵件的客戶註冊請求
      | 姓名   | 電子郵件        | 電話號碼      | 地址        |
      | 王小明 | invalid-email  | 0912345678   | 台北市信義區 |
    當 我提交客戶註冊請求
    那麼 系統應該回應錯誤狀態碼 400
    而且 錯誤訊息應該包含 "電子郵件格式不正確"

  場景: 註冊客戶時必填欄位為空
    假設 我有一個缺少必填欄位的客戶註冊請求
      | 姓名 | 電子郵件              | 電話號碼      | 地址 |
      |     | wang@example.com     | 0912345678   |     |
    當 我提交客戶註冊請求
    那麼 系統應該回應錯誤狀態碼 400
    而且 錯誤訊息應該包含驗證失敗的詳細資訊

  場景: 成功查詢客戶資料
    假設 系統中已存在一個客戶
      | 客戶ID | 姓名   | 電子郵件              | 電話號碼      | 地址        |
      | 1     | 王小明 | wang@example.com     | 0912345678   | 台北市信義區 |
    當 我查詢客戶 ID 為 "1" 的資料
    那麼 系統應該回應成功狀態碼 200
    而且 回應應該包含正確的客戶資料

  場景: 查詢不存在的客戶
    當 我查詢客戶 ID 為 "999" 的資料
    那麼 系統應該回應錯誤狀態碼 404
    而且 錯誤訊息應該包含 "客戶不存在"

  場景: 成功更新客戶資料
    假設 系統中已存在一個客戶
      | 客戶ID | 姓名   | 電子郵件              | 電話號碼      | 地址        |
      | 1     | 王小明 | wang@example.com     | 0912345678   | 台北市信義區 |
    而且 我有一個客戶更新請求
      | 姓名   | 電子郵件              | 電話號碼      | 地址        |
      | 王大明 | wang.new@example.com | 0987654321   | 台北市大安區 |
    當 我更新客戶 ID 為 "1" 的資料
    那麼 系統應該回應成功狀態碼 200
    而且 客戶資料應該被正確更新

  場景: 成功刪除客戶
    假設 系統中已存在一個客戶
      | 客戶ID | 姓名   | 電子郵件              | 電話號碼      | 地址        |
      | 1     | 王小明 | wang@example.com     | 0912345678   | 台北市信義區 |
    當 我刪除客戶 ID 為 "1"
    那麼 系統應該回應成功狀態碼 204
    而且 客戶應該從資料庫中被移除